# OSI 7계층이란,

> 💡 OSI 7계층 (Open Systems Interconnection Reference Model 7 Layer) 이란, 네트워크 통신이 일어나는 과정을 7단계로 나눈 것을 말하며, 국제 표준화 기구(ISO)에서 개발한 통신에 관한 계층화 표준 모델이다. OSI는 개념적인 모델이다.

<img src="https://user-images.githubusercontent.com/45252618/197214913-258c4993-2e9f-4665-acfb-e1471e5340e1.jpeg">

## 목적

이 모델은 프로토콜을 기능별로 나눈 것이다. 각 계층은 하위 계층의 기능만을 이용하고, 상위 계층에게 기능을 제공한다. '프로토콜 스택' 혹은 '스택'은 이러한 계층들로 구성되는 프로토콜 시스템이 구현된 시스템을 가리키는데, 프로토콜 스택은 하드웨어나 소프트웨어 혹은 둘의 혼합으로 구현될 수 있다. 일반적으로 하위 계층들은 하드웨어로, 상위 계층들은 소프트웨어로 구현된다.

# 7계층으로 나누는 이유

통신이 일어나는 과정을 단계별로 파악하고, 통신 중에 특정한 곳에 이상이 생기면 그 단계만 수정할 수 있기 때문이다.

# OSI 7계층 단계별 역할

## 1계층 - 물리 계층 (Physical Layer)

> 실제 장치를 연결하는데 필요한 전기적, 물리적 세부 사항을 정의. 상위 계층에서 전송된 데이터를 물리매체를 통해 다른 시스템에 전기적 신호로 전송
>
- 두 시스템 간에 데이터를 전송하려고 링크를 활성화하고 관리하는 전기적/기계적/절차적/기능적 특성 등을 정의함
- 전송 매체를 통해 **비트(bit)**를 전송함
- 단지 데이터를 전달할 뿐 전송하려는 데이터가 무엇인지, 어떤 에러가 있는지 등에 대해 전혀 신경 쓰지 않고 데이터를 전기적인 신호로 변환해서 주고받는 기능만 함
- 송신 측의 물리 계층 : 데이터 링크에서 0과 1로 구성된 비트열의 데이터를 받아 전기적 신호로 변환한 후 전송매체를 통하여 수신 측에 보냄
- 수신 측의 물리 계층 : 송신 측에서 받은 전기 신호를 0과 1로 구성된 비트열로 복원하여 수신 측의 데이터 링크 계층에 전송
- ex) LAN 카드, 케이블, 허브, 리피터 / 데이터 전송에 사용되는 전압

## 2계층 - 데이터 링크 계층 (Data Link Layer)

> 물리적 링크를 이용하여 점대점 (Point-to-Point) 사이의 신뢰성 있는 전송을 보장하기 위한 계층.
>
- CRC 기반의 오류 제어와 흐름 제어 필요
    - CRC(cycle redundancy check)란, 네트워크 등을 통하여 데이터를 전송할 때 전송된 데이터에 오류가 있는지를 확인하기 위한 체크값을 결정하는 방식
- 비트를 프레임이라는 논리적 단위로 구성
- 시스템 간에 오류 없이 데이터를 전송하려고 네트워크 계층에서 받은 데이터 단위 (**패킷**) 를 **프레임**으로 구성하여 물리 계층으로 전송함
- 물리 주소 14인 노드가 물리 주소 93인 노드로 프레임을 보내고 두 노드는 링크로 연결되어 있음
- 주소 할당 : 물리 계층으로부터 받은 신호들이 네트워크 상의 장치에 올바르게 안착할 수 있게 함
- 오류 감지 : 신호가 전달되는 동안 오류가 포함되는지 감지 오류가 있으면 해당 데이터 폐지
- 프레임 헤더에 물리 주소가 있는데, 데이터 링크 계층에서 해당 물리 주소로 통신 가능
    - 헤더의 끝에는 필요한 정보가 들어 있음
    - 트레일러에는 오류를 검출하는 특별한 비트들이 있음
- ex) 이더넷, L2 스위치

## 3계층 - 네트워크 계층 (Network Layer)

> 라우팅 프로토콜을 사용하여 여러 노드를 거칠 때마다 경로를 찾아주는 역할
>
- LAN을 벗어난 통신을 하기 위해 네트워크 계층에서 IP 주소 사용
- **데이터를 패킷 단위로 분할하여 전송**한 후 재결합함
- **패킷**을 송신 측에서 수신 측으로 전송
- 다양한 길이의 데이터를 네트워크들을 통해 전달하고, 그 과정에서 전송 계층이 요구하는 서비스 품질(QoS)을 제공하기 위한 기능적, 절차적 수단 제공
- 라우팅, 흐름 제어, 단편화 (Segmentation/Desegmentation), 오류 제어 등 수행
- ex) IP, 라우터, ICMP, ARP (IP주소와 통신에 필요한 물리적인 주소를 알아내는 프로토콜), L3 스위치

## 4계층 - 전송 계층 (Transport Layer)

> 양 끝단 사용자들이 신뢰성 있는 데이터를 주고받을 수 있게 함
>
- 오류 복구와 흐름 제어 등 담당
- 두 시스템 간에 신뢰성 있는 데이터 전송
- 네트워크 계층에서 온 데이터를 세션 계층의 어느 애플리케이션에 보낼 것인지 파악하고 전송할 경로를 선택함
- 네트워크 계층에서 전송한 데이터와 실제 운영 체제의 프로그램이 연결되는 통신 경로
- 상위 계층이 데이터 전달의 유효성이나 효율성을 고려하지 않아도 됨
- ex) TCP, UDP

## 5계층 - 세션 계층 (Session Layer)

> 양 끝단의 응용 프로세스가 통신을 관리하기 위한 방법 제공
>
- 응용 프로그램 계층 간의 통신을 제어하는 구조를 제공하려고 응용 프로그램 계층 사이의 접속을 설정/유지/종료시켜주는 역할
- 통신 장치 간의 설정을 유지하고 동기화하는 역할
- 통신 연결이 손실되는 경우 연결 복구 시도가 가능하고, 연결 시도 중 장시간 연결이 되지 않으면 세션 계층의 프로토콜이 연결을 닫고 다시 연결 시도함
- TCP/IP 세션을 만들고 없애는 책임

## 6계층 - 표현 계층 (Presentation Layer)

> 시스템에서 사용되는 코드 간의 번역 담당. 서로 다른 환경의 컴퓨터와 응용 프로그램들이 데이터를 서로 이해할 수 있도록 도와주는 계층
>
- 데이터 표현 차이를 해결하려고 서로 다른 형식으로 변환하거나 공통 형식을 제공하는 계층
- 송신 측에서는 수신 측에 맞는 형태로 변환하고, 수신 측에서는 응용 계층에 맞는 형태로 변환
- data의 format 정의
    - 응용 프로그램 형식을 준비 또는 네트워크 형식으로 변환하거나 네트워크 형식을 응용 프로그램 형식으로 변환하는 것을 나타냄
    - JPEG, TIFF, GIF, MPEG, QUICKTIME, MIDI, RTF, ASCII, EBCDIC 및 data 압축, 암호화의 기능 등 수행

## 7계층 - 응용 프로그램 계층 (Application Layer)

> 사용자나 응용 프로그램 사이에 데이터 교환을 가능하게 하는 계층
>
- 여러 가지 프로토콜에 대하여 사용자 인터페이스 제공
- 파일 전송, 데이터베이스, 원격 접속, 이메일 전송 등 응용 서비스를 네트워크에 접속시키는 역할을 하며, 여러 가지 서비스 제공
- 사용자에게 정보를 입력 받아 하위 계층으로 전달하고, 하위 계층에서 전송한 데이터를 사용자에게 전달
- 처음에는 WWW 상의 하이퍼텍스트 형태의 문서를 전달하는데 주로 이용하였으나, 현재에는 이미지 비디오 음성 등 대부분의 모든 형식의 데이터를 전송할 수 있음
- HTTP, FTP, 터미널 서비스, 메일 프로그램, 디렉토리 서비스 등 제공

| 계층 | 단위 | 주요 프로토콜 | 주요 장비 |
| --- | --- | --- | --- |
| 1계층 | 비트 | X.21, RS-232 | 허브, 리피터, 네트워크 카드 등 |
| 2계층 | 프레임 | Ethernet, HDLC, X.25 등 | 브리지, L2 Switch |
| 3계층 | 패킷 | IP, ARP, ICMP, IGMP, RIP, OSPF, IGRP 등 | 라우터, L3 Switch |
| 4계층 | 세그먼트 | TCP, UDP | L4 Switch |
| 5계층 | 데이터 또는 메시지 | X | X |
| 6계층 | 데이터 | X | X |
| 7계층 | 데이터 | TELNET, FTP, SMTP, HTTP 등 | X |

cf) TCP/IP 4계층

- TCP/IP 프로토콜은 OSI 모델보다 먼저 개발됨
- TCP/IP 프로토콜의 계층은 OSI 모델의 계층과 정확하게 일치하지 않음
- 두 계층을 비교할 때, 세션 (Session)과 표현 (Presentation) 2개의 계층이 TCP/IP 프로토콜 그룹에 없다는 것을 알 수 있음
- OSI 7 Layer는 장비 개발과 통신 자체를 어떻게 표준으로 잡을지 사용되는 반면에 실질적인 통신 자체는 주로 TCP/IP 프로토콜을 사용함